(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{714:function(t,e,n){var content=n(733);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("6e2a1d80",content,!0,{sourceMap:!1})},732:function(t,e,n){"use strict";n(714)},733:function(t,e,n){var o=n(17)(!1);o.push([t.i,".fix[data-v-4dedc24a]{position:relative}.fix code[data-v-4dedc24a]{position:static}",""]),t.exports=o},756:function(t,e,n){"use strict";n.r(e);var o=n(15),r=(n(47),n(50),n(310)),c={components:{"comment-tile":n(260).default},mixins:[r.a],validate:function(t){var e=t.params;return/^\d+$/.test(e.id)},data:function(){return{action:!1,comment:"",comments:null,post:null,childKey:2,images:["https://freepsdmock-up.com/wp-content/uploads/2018/06/Free-Wine-Bottle-Label-Mockups-1.jpg","https://wpepitome.com/wp-content/uploads/2019/07/29_wine-bottle-mockups.jpg","https://worldbranddesign.com/wp-content/uploads/2020/02/design-for-vida-wine-brand.jpg","https://s23444.pcdn.co/wp-content/uploads/2020/01/Africa-general-pic.jpg.optimal.jpg","https://secure.img1-fg.wfcdn.com/im/80685197/resize-h800-w800%5Ecompr-r85/3073/30739909/Siera+4+Bottle+Wall+Mounted+Wine+Bottle+and+Glass+Rack+in+White.jpg"]}},created:function(){this.getcomments()},beforeCreate:function(){},methods:{commentThisPost:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={post:parseInt(t.$route.params.id),text_content:t.comment},t.comment.length>3&&t.$store.dispatch("commentOnBlogPosts",n),setTimeout(t.reloadcomments(),5e3);case 3:case"end":return e.stop()}}),e)})))()},likePost:function(t){t.is_liked_by_me?this.unlike_this_post("unlikeBlogPosts",t.id):this.like_this_post("likeBlogPosts",t.id)},init_comment_action:function(){!0===this.action?this.action=!1:!1===this.action?this.action=!0:this.action=!1},getpost:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("posts/".concat(t.$route.params.id,"/")).then((function(e){t.post=e})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getcomments:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("posts/".concat(t.$route.params.id,"/comments/")).then((function(e){t.comments=e})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},reloadcomments:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("posts/".concat(t.$route.params.id,"/comments/")).then((function(e){t.comments=e,t.childKey+=e.results.length,document.getElementById("comment").value="",t.comment=null,t.$forceUpdate()})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}},computed:{isDisabled:function(){return this.comment.length>0}}},l=(n(732),n(24)),m=n(31),d=n.n(m),v=n(144),h=n(243),f=n(59),_=n(693),w=n(683),x=n(233),k=n(684),y=n(185),V=n(188),C=n(686),$=n(234),j=n(145),R=n(235),P=n(11),B=n(232),I=n(694),L=n(692),M=n(116),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md12:"","order-md2":"","order-sm2":""}},[n("v-row",[null===t.post?n("v-col",{attrs:{align:"center"}},[n("v-progress-circular",{attrs:{width:2,color:"primary",size:"20",indeterminate:""}})],1):null!==t.post?n("v-col",[n("v-card",{staticClass:"mx-auto",attrs:{flat:""}},[n("v-list-item",[n("NuxtLink",{attrs:{to:"/profile/"+t.post.owner.id}},[n("v-list-item-avatar",{attrs:{color:"grey"}},[n("img",{attrs:{src:t.images[Math.floor(Math.random()*t.images.length)],alt:"post.owner.username"}})])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline"},[t._v("Our Changing Planet")]),t._v(" "),n("v-list-item-subtitle",[t._v("By: "+t._s(t.post.owner.first_name)+" "+t._s(t.post.owner.last_name))])],1)],1),t._v(" "),n("v-img",{attrs:{src:t.images[Math.floor(Math.random()*t.images.length)],height:"194"}}),t._v(" "),n("v-card-text",[t._v(t._s(t.post.text_content))]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",small:""},on:{click:function(e){return e.stopPropagation(),t.likePost(t.post)}}},[t.post.is_liked_by_me?n("v-icon",{staticClass:"mr-0 text-caption",attrs:{color:"success"}},[t._v("mdi-heart")]):n("v-icon",{staticClass:"mr-0 text-caption"},[t._v("mdi-heart-outline")]),t._v(" "),n("span",{staticClass:"font-weight-light text-caption"},[t._v("\n                  "+t._s(t.post.likes_count)+"\n                ")])],1),t._v(" "),n("v-btn",{attrs:{text:"",small:""}},[n("v-icon",{staticClass:"text-caption"},[t._v("mdi-comment")]),t._v(" "),n("span",{staticClass:"font-weight-light text-caption"},[t._v("\n                  "+t._s(t.post.comments_count)+"\n                ")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-text-field",{staticClass:"my-1",attrs:{id:"comment",placeholder:"Reply ...",type:"text",filled:"",dense:"",rounded:"","no-details":"","append-outer-icon":"mdi-send","hide-details":""},on:{"click:append-outer":function(e){return t.commentThisPost()}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1):n("v-col")],1)],1),t._v(" "),n("v-flex",{attrs:{xs12:"",sm12:"",md12:"","order-md2":"","order-sm2":""}},[n("v-row",[n("p",[t._v("Comments")]),t._v(" "),null===t.comments?n("v-progress-circular",{attrs:{width:2,color:"primary",size:"20",indeterminate:""}}):0!==t.comments.results.length?n("v-list",{key:t.childKey,attrs:{dense:"","two-line":""}},[t._l(t.comments.results.reverse(),(function(e,o){return[n("comment-tile",{key:o,attrs:{comment:e,index:o}}),t._v(" "),n("v-divider",{key:o,staticClass:"my-0 py-0",attrs:{light:"",inset:""}})]}))],2):n("p")],1)],1)],1)],1)}),[],!1,null,"4dedc24a",null);e.default=component.exports;d()(component,{VBtn:v.a,VCard:h.a,VCardActions:f.a,VCardText:f.c,VCol:_.a,VContainer:w.a,VDivider:x.a,VFlex:k.a,VIcon:y.a,VImg:V.a,VLayout:C.a,VList:$.a,VListItem:j.a,VListItemAvatar:R.a,VListItemContent:P.a,VListItemSubtitle:P.b,VListItemTitle:P.c,VProgressCircular:B.a,VRow:I.a,VSpacer:L.a,VTextField:M.a})}}]);