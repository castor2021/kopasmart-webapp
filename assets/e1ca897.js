(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{757:function(t,e,n){"use strict";n.r(e);n(80),n(36);var r=n(258),l=n(254),o={components:{ListItem:r.default,DatatableComponent:l.default},data:function(){return{data:!0,table:!1,repayments:[],loading:!1,search:"",valid:!0,title:"Home",dense:!0,dark:!1,advanced:!1,method:{},ttInterest:"",ttBalance:"",amount:null,datarequired:!0,headers:[{text:"Day",align:"left",sortable:!1,value:"days"},{text:"Paid Date",value:"paiddate"},{text:"Principal",value:"loanamount"},{text:"Principal due",value:"principaldue"},{text:"Interest",value:"interest",filterable:!1},{text:"Interrest",value:"interrest",filterable:!1},{text:"Loan Balance",value:"loanbalance"},{text:"Total",value:"total",filterable:!1}]}},created:function(){},methods:{calculateRepaymentSchedule:function(){var t=this;this.data=!1,this.table=!0;var data=this.schedule;this.datarequired=!1,this.amount=data.amount,this.loading=!0,this.$nextTick((function(){var e=[],n=(t.getMethodById(data.interest_method),data.interest_rate/100),r=parseInt(data.amount)*n*parseInt(data.loan_term);t.ttInterest=r,t.ttBalance=parseInt(data.amount)+parseInt(r);for(var l=parseInt(data.amount)+parseInt(r),i=0;i<data.number_of_repayments;i++){var o=new Object;o.days=1+i,o.paiddate=t.getNextWeekDay((i+1)*parseInt(t.getTermsValue(data.repaid_every_unit))*parseInt(data.repaid_every)).toLocaleString().split(" ")[0],o.principaldue=data.amount/data.number_of_repayments,o.loanamount=data.amount,o.interest=r/data.number_of_repayments,o.total=o.principaldue+o.interest,l-=o.principaldue+o.interest,o.loanbalance=l,e.push(o)}t.repayments=e})),this.loading=!1},getNextWeekDay:function(i){var t=new Date(Date.now());return new Date(t.getTime()+1*parseInt(i)*24*60*60*1e3)},getTermsValue:function(t){switch(t){case"D":return 1;case"W":return 7;case"M":return 30;case"Y":return 366}},getMethodById:function(t){switch(t){case"FLAT":return 1;case"STRAIGHT":return 2;case"REDUCING_BALANCE":return 3}}},computed:{schedule:function(){return this.$store.getters.getterschedule(parseInt(this.$nuxt._route.params.sid))[0]}}},d=n(24),c=n(31),m=n.n(c),h=n(681),v=n(146),_=n(243),f=n(59),I=n(682),y=n(184),w=n(693),x=n(691),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticClass:"app"},[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{flat:"",outlined:""}},[n("v-card-title",[n("span",[t._v(t._s(t.schedule.name))]),t._v(" "),n("v-spacer"),t._v(" "),t.data?n("v-icon",{attrs:{color:"info lighten-1"},on:{click:function(e){t.data=!t.data}}},[t._v("mdi-chevron-up-box")]):t._e(),t._v(" "),t.data?t._e():n("v-icon",{attrs:{color:"info lighten-1"},on:{click:function(e){t.data=!t.data}}},[t._v("mdi-chevron-down-box")])],1),t._v(" "),n("v-card-subtitle",{staticClass:"title font-weight-light"},[t._v("Selected Repayment Schedule "+t._s(t.schedule.name))]),t._v(" "),t.data?n("v-row",[n("list-item",{attrs:{title:"Name",subtitle:t.schedule.name+" { ID:"+[t.schedule.id]+" }"}}),t._v(" "),n("list-item",{attrs:{title:"Amount",subtitle:t.schedule.amount}}),t._v(" "),n("list-item",{attrs:{title:"Interest Rate",subtitle:t.schedule.interest_rate}}),t._v(" "),n("list-item",{attrs:{title:"Interest Method",subtitle:t.schedule.interest_method}}),t._v(" "),n("list-item",{attrs:{title:"Loan term",subtitle:t.schedule.loan_term+t.schedule.loan_term_unit}}),t._v(" "),n("list-item",{attrs:{title:"Repaid Every",subtitle:t.schedule.repaid_every+t.schedule.repaid_every_unit}}),t._v(" "),n("list-item",{attrs:{title:"Number of Repayments",subtitle:t.schedule.number_of_repayments}}),t._v(" "),n("list-item",{attrs:{title:"Amortization",subtitle:t.schedule.amortization}}),t._v(" "),n("list-item",{attrs:{title:"Interest Moratorium",subtitle:t.schedule.interest_moratorium}}),t._v(" "),n("list-item",{attrs:{title:"Principal Moratorium",subtitle:t.schedule.principal_moratorium}}),t._v(" "),n("list-item",{attrs:{title:"Interest Free period",subtitle:t.schedule.interest_free_period}})],1):t._e(),t._v(" "),t.table?n("v-container",{attrs:{fluid:""}},[n("datatable-component",{staticClass:"elevation-0 font-weight-light",attrs:{headers:t.headers,repayments:t.repayments,"items-per-page":5,search:t.search,dense:t.dense,dark:t.dark,ttInterest:t.ttInterest,ttBalance:t.ttBalance,amount:t.amount,"multi-sort":"",loading:t.loading,"loading-text":"Loading... Please wait"}})],1):t._e(),t._v(" "),n("v-card-actions",[t.table?t._e():n("v-btn",{staticClass:"info lighten-1 font-weight-light",staticStyle:{"text-transform":"capitalize"},attrs:{depressed:""},on:{click:t.calculateRepaymentSchedule}},[t._v("Calculate")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VApp:h.a,VBtn:v.a,VCard:_.a,VCardActions:f.a,VCardSubtitle:f.b,VCardTitle:f.d,VContainer:I.a,VIcon:y.a,VRow:w.a,VSpacer:x.a})}}]);